import"./chunk-BYXBJQAS.js";import{a as S,b as z,c as X}from"./chunk-VUFVQEOJ.js";import{a as $}from"./chunk-KVHQHHXP.js";import{$ as g,C as k,G as x,H as f,I as P,J as y,K as b,L as h,M as n,N as o,O as p,P as M,Q as E,R as N,S as v,T as m,U as G,V as s,W as q,X as U,Y as W,_ as l,aa as L,da as Q,ea as F,ga as D,ha as H,ia as J,ma as T,n as u,o as _,oa as I,pa as V,qa as A,u as w,v as a,va as j,x as C,xa as K,y as O}from"./chunk-XPGVAPB5.js";var B=class t{data;acept=new k(!1);onAction(i){this.acept.emit(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=O({type:t,selectors:[["app-message-box"]],inputs:{data:"data"},outputs:{acept:"acept"},decls:16,vars:2,consts:[[1,"message-main"],[1,"message"],[1,"icon"],["src","alert-circle.svg","alt",""],[1,"txt"],[1,"actions"],[1,"cancel",3,"click"],[1,"accept",3,"click"]],template:function(e,r){e&1&&(M(0,"div",0)(1,"div",1)(2,"div",2),N(3,"img",3),E(),M(4,"div",4)(5,"h2"),l(6),E(),M(7,"p"),l(8),E()()(),M(9,"div",5)(10,"div",6),G("click",function(){return r.onAction(!1)}),M(11,"span"),l(12,"Cancelar"),E()(),M(13,"div",7),G("click",function(){return r.onAction(!0)}),M(14,"span"),l(15,"Eliminar"),E()()()()),e&2&&(a(6),g(r.data==null?null:r.data.msg),a(2),g(r.data==null?null:r.data.warn))},styles:[".message-main[_ngcontent-%COMP%]{display:flex;width:400px;padding:24px;flex-direction:column;align-items:center;gap:32px;border-radius:12px;background:var(--White, #FFF);box-shadow:0 20px 24px -4px #0a0d1214,0 8px 8px -4px #0a0d1208}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;align-self:stretch}.icon[_ngcontent-%COMP%]{display:flex;padding:12px;justify-content:center;align-items:center;border-radius:50%;border:8px solid var(--Error-50, #FEF3F2);background:var(--Error-100, #FEE4E2)}.txt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;align-self:stretch}.txt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);text-align:center;font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:600;line-height:28px;margin:0}.txt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-600, #535862);text-align:center;font-family:var(--montser-font);font-size:14px;font-style:normal;font-weight:400;line-height:20px;margin:0}.cancel[_ngcontent-%COMP%]{display:flex;padding:10px 18px;justify-content:center;align-items:center;gap:8px;flex:1 0 0;box-sizing:border-box;border-radius:8px;border:1px solid var(--Gray-300, #D5D7DA);background:var(--White, #FFF);box-shadow:0 1px 2px #0a0d120d;cursor:pointer}.accept[_ngcontent-%COMP%]{display:flex;padding:10px 18px;justify-content:center;align-items:center;gap:8px;flex:1 0 0;border-radius:8px;border:1px solid var(--Error-600, #D92D20);background:var(--Error-600, #D92D20);box-shadow:0 1px 2px #0a0d120d;cursor:pointer}.actions[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;align-self:stretch}.accept[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .cancel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--montser-font);font-size:16px;font-style:normal;font-weight:600;line-height:24px}.accept[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--White, #FFF)}.cancel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--Gray-700, #414651)}"]})};var oe=t=>({active:t});function ae(t,i){if(t&1&&p(0,"img",3),t&2){let e=s();h("src",e.images[e.selectedImage],w)("alt",e.currentProduct.name)}}function ce(t,i){t&1&&p(0,"div",4)}function le(t,i){if(t&1){let e=v();n(0,"img",17),m("click",function(){u(e);let c=s().$index,d=s();return _(d.selectImage(c))}),o()}if(t&2){let e=s().$implicit,r=s();h("src",e,w)("alt",r.currentProduct.name)}}function se(t,i){t&1&&p(0,"div",4)}function de(t,i){if(t&1&&(n(0,"div",6),x(1,le,1,2,"img",16)(2,se,1,0,"div",4),o()),t&2){let e=s();a(),f(e.charged?1:2)}}function pe(t,i){if(t&1&&(n(0,"div",21)(1,"p"),l(2),o(),n(3,"div",26),p(4,"img",16),o()()),t&2){let e=i.$implicit;a(2),g(e.text),a(2),h("src",e.image,w)("alt",e.text)}}function me(t,i){if(t&1&&(n(0,"p"),l(1),o()),t&2){let e=i.$implicit;a(),g(e.text)}}function ge(t,i){if(t&1){let e=v();n(0,"div",27),m("click",function(){let c=u(e).$index,d=s(2);return _(d.variantChange(c))}),p(1,"img",16),o()}if(t&2){let e=i.$implicit,r=i.$index,c=s(2);h("ngClass",F(3,oe,c.currentVariant===r)),a(),h("src",e.color.image,w)("alt",e.color.name)}}function ue(t,i){if(t&1&&(n(0,"div",10)(1,"h2"),l(2),o(),n(3,"h4"),l(4),o(),n(5,"p"),l(6),o(),n(7,"div",18)(8,"div",19)(9,"div",20)(10,"h3"),l(11,"TERMINACIONES"),o(),y(12,pe,5,3,"div",21,P),o(),n(14,"div",22)(15,"h3"),l(16,"SISTEMA EL\xC9CTRICO "),o(),y(17,me,2,1,"p",null,P),o()(),n(19,"div",23)(20,"h3"),l(21,"COLORES"),o(),n(22,"div",24),y(23,ge,2,5,"div",25,P),o()()()()),t&2){let e=s();a(2),g(e.currentProduct.name),a(2),g(e.currentProduct.subtitle),a(2),g(e.currentProduct.description),a(6),b(e.prodFinishes),a(5),b(e.currentProduct.details),a(6),b(e.currentProduct.variants)}}function _e(t,i){t&1&&(n(0,"div",11)(1,"div",28),p(2,"div",29)(3,"div",30),o(),n(4,"div",28),p(5,"div",31)(6,"div",31)(7,"div",31)(8,"div",32),o(),n(9,"div",33)(10,"div",28),p(11,"div",32)(12,"div",31)(13,"div",31)(14,"div",31),o(),n(15,"div",28),p(16,"div",32)(17,"div",31)(18,"div",31)(19,"div",31),o()(),n(20,"div",28),p(21,"div",34)(22,"div",35),o()())}function xe(t,i){if(t&1&&(n(0,"p"),l(1),D(2,"currency"),o()),t&2){let e=s();a(),g(H(2,1,e.currentProduct.variants.length>0?e.currentProduct.variants[e.currentVariant].price:0))}}function fe(t,i){t&1&&p(0,"div",15)}var R=class t{constructor(i,e,r,c){this.route=i;this.http=e;this.cdr=r;this.errorServ=c}currentProduct;close=new k;queryParamsSubscription;images=[];finishes=[];prodFinishes=[];currentVariant=0;selectedImage=0;loading=!1;charged=!1;ngOnInit(){this.chargeValues(),this.images=this.currentProduct?.variants[this.currentVariant].images.map(i=>i.link)??[]}chargeValues(){this.loadFinishes()}loadFinishes(){this.http.getFinishes().subscribe({next:i=>{this.finishes=i,this.prodFinishes=this.finishes.filter(e=>this.currentProduct.finish.filter(r=>r.finishId===e.id).length>0)??[],this.charged=!0,this.cdr.detectChanges()},error:i=>{this.errorServ.addError(S(i))}})}variantChange(i){this.currentVariant=i,this.images=this.currentProduct?.variants[this.currentVariant].images.map(e=>e.link)??[],this.selectedImage=0,this.cdr.detectChanges()}selectImage(i){this.selectedImage=i,this.cdr.detectChanges()}onClose(){this.close.emit()}static \u0275fac=function(e){return new(e||t)(C(j),C(z),C(T),C($))};static \u0275cmp=O({type:t,selectors:[["app-product-detail"]],inputs:{currentProduct:"currentProduct"},outputs:{close:"close"},decls:20,vars:3,consts:[[1,"detail-container"],[1,"img-container"],[1,"main-image"],[1,"main-img",3,"src","alt"],[1,"image-loader"],[1,"sec-img-container"],[1,"sec-images"],[1,"detail-content"],[1,"cross",3,"click"],["src","x.svg","alt",""],[1,"details"],[1,"details","sk"],[1,"button-bar"],[1,"divider"],[1,"price-info"],[1,"sk-bar","line","price"],[3,"src","alt"],[3,"click","src","alt"],[1,"features"],[1,"finishing-electric"],[1,"finishing"],[1,"finish-details"],[1,"electric"],[1,"variants"],[1,"variant-list"],[1,"color-container",3,"ngClass"],[1,"finis-image"],[1,"color-container",3,"click","ngClass"],[1,"sk-pair"],[1,"sk-bar","header"],[1,"sk-bar","s-line"],[1,"sk-bar","line"],[1,"sk-bar","line","w70"],[1,"sk-pairs"],[1,"sk-bar","line","70"],[1,"sk-bar","cube"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),x(3,ae,1,2,"img",3)(4,ce,1,0,"div",4),o(),n(5,"div",5),y(6,de,3,1,"div",6,P),o()(),n(8,"div",7)(9,"div",8),m("click",function(){return r.onClose()}),p(10,"img",9),o(),x(11,ue,25,3,"div",10)(12,_e,23,0,"div",11),n(13,"div",12),p(14,"div",13),n(15,"div",14),x(16,xe,3,3,"p")(17,fe,1,0,"div",15),n(18,"span"),l(19,"Cada Luminaria"),o()()()()()),e&2&&(a(3),f(r.charged?3:4),a(3),b(r.images),a(5),f(r.charged?11:12),a(5),f(r.charged?16:17))},dependencies:[A,I,V],styles:['h2[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font, "Montserrat");font-size:48px;font-style:normal;font-weight:600;line-height:60px;margin:0;letter-spacing:-.96px}h4[_ngcontent-%COMP%]{color:var(--Brand-600, #178C94);font-family:var(--montser-font, "Montserrat");font-size:16px;font-style:normal;font-weight:600;line-height:24px;margin:0}.detail-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;align-self:stretch;border-radius:var(--Corner-Small, 8px);background:var(--Gray-50, #FAFAFA)}.image-loader[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(180deg,#0000000a,#0000006e 96%)}.details.sk[_ngcontent-%COMP%]{gap:48px}.sk-bar.header[_ngcontent-%COMP%]{width:70%;height:48px;background-color:#a4a7ae}.sk-bar.s-line[_ngcontent-%COMP%], .sk-bar.line[_ngcontent-%COMP%]{width:100%;height:16px;background-color:#a4a7ae}.sk-bar.line.w70[_ngcontent-%COMP%]{width:70%;height:16px;background-color:#a4a7ae}.sk-pairs[_ngcontent-%COMP%]{width:100%;display:flex;gap:48px}.sk-pair[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;width:100%}.sk-bar.cube[_ngcontent-%COMP%]{width:16px;height:16px;background-color:#a4a7ae}.sk-bar.line.price[_ngcontent-%COMP%]{height:24px}p[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font, "Montserrat");font-size:20px;font-style:normal;font-weight:400;line-height:30px;margin-top:40px;margin-bottom:48px}.img-container[_ngcontent-%COMP%]{display:flex;width:644px;padding:20px 0 20px 20px;flex-direction:column;align-items:flex-start;gap:19.346px}.cross[_ngcontent-%COMP%]{position:absolute;padding:14px;align-self:flex-end;cursor:pointer;top:-24px}.detail-content[_ngcontent-%COMP%]{position:relative;margin-top:48px;display:flex;padding:24px 24px 64px 48px;flex-direction:column;align-items:flex-end;flex:1 0 0;align-self:stretch;width:564px}.details[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;align-items:center;align-self:stretch;margin-bottom:32px}.details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{width:100%;text-align:left}.button-bar[_ngcontent-%COMP%]{position:relative;display:flex;padding-top:24px;height:auto;box-sizing:border-box;justify-content:space-between;align-items:center;width:100%}.button-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:30px;font-style:normal;font-weight:600;line-height:38px;margin:0;flex:1}.price-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:16px;font-style:normal;font-weight:400;line-height:24px}.divider[_ngcontent-%COMP%]{position:absolute;top:0;height:1px;background:var(--Gray-300, #D5D7DA);width:100%}.btn-section[_ngcontent-%COMP%]{display:flex;gap:12px;width:auto;height:48px}.btn-section[_ngcontent-%COMP%]   .button-base[_ngcontent-%COMP%]{width:auto}.main-image[_ngcontent-%COMP%]{display:flex;align-items:center;height:644px;justify-content:center;border-radius:3.869px;overflow:hidden;width:100%}.main-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.sec-img-container[_ngcontent-%COMP%]{display:flex;width:100%;height:123px;gap:7.74px}.sec-images[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;overflow:hidden;flex:1;cursor:pointer}.sec-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.features[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:36px;width:100%}.finishing-electric[_ngcontent-%COMP%]{display:flex;width:100%;gap:48px}.finishing[_ngcontent-%COMP%], .electric[_ngcontent-%COMP%]{display:flex;gap:4px;flex-direction:column;align-items:flex-start;align-self:stretch;flex:1}.finishing[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .electric[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .variants[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:600;line-height:28px;margin:0}.finishing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .electric[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:500;line-height:28px;margin:0}.variants[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:8px}.variants[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left}.variant-list[_ngcontent-%COMP%]{display:flex;gap:8px}.color-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:50%;overflow:hidden;border:.5px solid black;cursor:pointer}.color-container.active[_ngcontent-%COMP%]{border:2px solid #178C94}.color-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;height:100%}.finish-details[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:left;width:100%;gap:8px}.finis-image[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:50%;border:1px solid black}.finis-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;min-width:100%}.btn-section[_ngcontent-%COMP%]   .button-chips[_ngcontent-%COMP%]{padding:14px}']})};var he=["searchProd"],ve=()=>["Nombre","Categor\xEDa","Precio","Stock","Tipolog\xEDa","Estado",""],Ce=t=>({active:t});function Pe(t,i){t&1&&(n(0,"div",2),p(1,"app-box-loader",30),o())}function ye(t,i){if(t&1){let e=v();n(0,"div",3)(1,"app-product-detail",31),m("close",function(){u(e);let c=s();return _(c.details=void 0)}),o()()}if(t&2){let e=s();a(),h("currentProduct",e.details)}}function be(t,i){if(t&1){let e=v();n(0,"div",4)(1,"app-message-box",32),m("acept",function(c){u(e);let d=s();return _(d.onDecide(c.valueOf()))}),o()()}if(t&2){let e=s();a(),h("data",e.warn)}}function Me(t,i){if(t&1){let e=v();n(0,"div",7)(1,"label"),l(2),o(),n(3,"img",33),m("click",function(){let c=u(e).$index,d=s();return _(d.onDeleteFilter(c))}),o()()}if(t&2){let e=i.$implicit;a(2),L(" ",e," ")}}function we(t,i){if(t&1){let e=v();n(0,"div",35),m("click",function(){let c=u(e).$implicit,d=s(2);return _(d.onAddFilter(c))}),n(1,"p"),l(2),o()()}if(t&2){let e=i.$implicit;a(2),g(e)}}function Oe(t,i){if(t&1&&(n(0,"div",15),y(1,we,3,1,"div",34,P),o()),t&2){let e=s();a(),b(e.CatParser)}}function Ee(t,i){if(t&1&&(n(0,"p"),l(1),o()),t&2){let e=s().$implicit;a(),g(e.name)}}function Se(t,i){if(t&1&&(n(0,"div",37)(1,"p"),l(2),o()()),t&2){let e=s().$implicit;a(2),g(e.category.nombre)}}function ke(t,i){if(t&1&&(n(0,"p"),l(1),D(2,"currency"),o()),t&2){let e=s().$implicit;a(),g(e.variants.length==0?"":J(2,1,e.variants[0].price,"USD","symbol","1.2-2"))}}function Fe(t,i){if(t&1&&(n(0,"p"),l(1),o()),t&2){let e=s().$implicit,r=s(2);a(),g(r.getStock(e))}}function De(t,i){if(t&1&&(n(0,"p"),l(1),o()),t&2){let e=s().$implicit;a(),g(e.typology)}}function Te(t,i){t&1&&(n(0,"div",38),p(1,"img",40),n(2,"p"),l(3),o()()),t&2&&(a(),h("src","./_Dot_green.svg",w),a(2),g("Activo"))}function Ie(t,i){if(t&1){let e=v();n(0,"div",41),m("click",function(c){return u(e),_(c.stopImmediatePropagation())}),n(1,"button",42),m("click",function(){u(e);let c=s().$implicit,d=s(2);return _(d.ask(c))}),p(2,"img",43),o(),n(3,"button",42),m("click",function(){u(e);let c=s().$implicit,d=s(2);return _(d.edit(c.id))}),p(4,"img",44),o()()}}function Ve(t,i){if(t&1){let e=v();n(0,"div",36),m("click",function(){let c=u(e).$implicit,d=s(2);return _(d.details=c)}),x(1,Ee,2,1,"p"),x(2,Se,3,1,"div",37),x(3,ke,3,6,"p"),x(4,Fe,2,1,"p"),x(5,De,2,1,"p"),x(6,Te,4,2,"div",38),x(7,Ie,5,0,"div",39),o()}if(t&2){let e=s().$implicit;h("className",`product-item ${e===""?"action":e.toLowerCase()}`),a(),f(e==="Nombre"?1:-1),a(),f(e==="Categor\xEDa"?2:-1),a(),f(e==="Precio"?3:-1),a(),f(e==="Stock"?4:-1),a(),f(e==="Tipolog\xEDa"?5:-1),a(),f(e==="Estado"?6:-1),a(),f(e===""?7:-1)}}function Ae(t,i){if(t&1&&(n(0,"div",24)(1,"div",24)(2,"p"),l(3),o()(),y(4,Ve,8,8,"div",24,P),o()),t&2){let e=i.$implicit,r=s();h("className",`column ${e===""?"action":e.toLowerCase()}`),a(),h("className",`head-bar-item ${e===""?"action":e.toLowerCase()}`),a(2),g(e),a(),b(r.products)}}function je(t,i){t&1&&(n(0,"div",45)(1,"label"),l(2,"..."),o()())}function ze(t,i){t&1&&(n(0,"div",45)(1,"label"),l(2,"..."),o()())}function $e(t,i){if(t&1){let e=v();x(0,je,3,0,"div",45),n(1,"div",46),m("click",function(){let c=u(e).$implicit,d=s();return _(d.onPageChange(c))}),n(2,"label"),l(3),o()(),x(4,ze,3,0,"div",45)}if(t&2){let e=i.$implicit,r=s();f(e===r.pages&&r.currentPage-r.pages>2?0:-1),a(),h("ngClass",F(4,Ce,r.currentPage==e)),a(2),g(e),a(),f(r.currentPage>3&&e+2==r.currentPage?4:-1)}}var ee=class t{constructor(i,e,r,c,d){this.router=i;this.route=e;this.http=r;this.cdr=c;this.errorServ=d}count=0;products=[];pagesArray=[1];pages=1;currentPage=1;warn;toDelete;CatParser=["Luminarias de pie","Accesorios","Luminarias de techo","Luminarias de mesa","Luminarias de pared"];search;CategoryFilter=[];queryParamSubs;filterMenu=!1;details=void 0;params={categories:void 0,search:void 0,page:1};ngOnInit(){this.queryParamSubs=this.route.queryParamMap.subscribe(()=>{this.ReadData()})}edit(i){this.router.navigate(["/dashboard/create-product"],{queryParams:{id:i,edit:"true"}})}loading=!1;ReadData(){this.loading=!0;let i=this.route.snapshot.queryParamMap.get("categories");this.params.categories=i??void 0;let e=this.route.snapshot.queryParamMap.get("search");this.params.search=e??void 0;let r=this.route.snapshot.queryParamMap.get("page");this.params.page=r?+r:1,this.CategoryFilter=[],(i?i.split("-"):[]).map(d=>this.CategoryFilter.push(this.CatParser[+d<5&&0<=+d?+d:1])),this.http.getPages({categories:this.params.categories,search:this.params.search}).subscribe({next:d=>{this.pages=d,this.getProducts()},error:d=>{this.errorServ.addError(S(d)),this.loading=!1,this.cdr.detectChanges()}})}getProducts(){this.http.getProducts(this.params).subscribe({next:i=>{this.products=i,console.log(i),this.count=this.products.length,this.loading=!1,this.cdr.detectChanges()},error:i=>{this.loading=!1,this.errorServ.addError(S(i))}})}getStock(i){return i.variants.reduce((e,r)=>e+r.stock,0)}onPageChange(i){this.currentPage=i,this.router.navigate([],{queryParams:this.params})}onAddFilter(i){this.CategoryFilter.includes(i)||(this.CategoryFilter.push(i),this.router.navigate([],{queryParams:{categories:this.CategoryFilter.map(e=>this.CatParser.indexOf(e)).join("-")},queryParamsHandling:"merge"}))}onDeleteFilter(i){this.CategoryFilter.splice(i,1),this.router.navigate([],{queryParams:{categories:this.CategoryFilter.map(e=>this.CatParser.indexOf(e)).join("-")},queryParamsHandling:"merge"})}delete(i){this.http.deleteProduct(i).subscribe({next:e=>{console.log(e),this.ReadData(),this.cdr.detectChanges()},error:e=>console.log(e)})}ask(i){this.toDelete=i,this.warn={msg:"Eliminar producto",warn:"\xBFEst\xE1s seguro que deseas realizar esta acci\xF3n? Esta acci\xF3n no tiene vuelta atr\xE1s."}}onDecide(i){this.warn=void 0,i&&this.toDelete&&this.delete(this.toDelete.id),this.toDelete=void 0}onSearch(){let i=this.search.nativeElement.value;this.params.search=i,this.router.navigate([],{queryParams:this.params})}static \u0275fac=function(e){return new(e||t)(C(K),C(j),C(z),C(T),C($))};static \u0275cmp=O({type:t,selectors:[["app-products"]],viewQuery:function(e,r){if(e&1&&q(he,5),e&2){let c;U(c=W())&&(r.search=c.first)}},decls:52,vars:8,consts:[["searchProd",""],[1,"products-main"],[1,"loader-wrapper"],[1,"details-wrapper"],[1,"warn"],[1,"prod-header"],[1,"prod-actions"],[1,"button-chips"],["src","upload-cloud.svg","alt",""],[1,"button-base",3,"click"],["src","plus.svg","alt",""],[1,"filters"],[1,"filters-dorp-menu"],[1,"button-chips",3,"click"],["src","Filters lines.svg","alt",""],[1,"dropdown-content"],[1,"spacing",2,"flex","1"],[1,"input-base"],["src","search.svg","alt","",3,"click"],["type","text","placeholder","Buscar",3,"keydown.enter"],[1,"prod-container"],[1,"product-list-header"],[1,"count"],[1,"head-bar"],[3,"className"],[1,"pagination"],[1,"button-chips",3,"click","disabled"],["src","arrow-left.svg","alt",""],[1,"pages"],["src","arrow-right.svg","alt",""],["message","Cargando productos..."],[3,"close","currentProduct"],[3,"acept","data"],["src","x.svg","alt","",3,"click"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[3,"click","className"],[1,"category"],[1,"status"],[1,"actions"],["alt","",3,"src"],[1,"actions",3,"click"],[1,"action-button",3,"click"],["src","trash-2.svg","alt",""],["src","edit-2.svg","alt",""],[1,"page"],[1,"page",3,"click","ngClass"]],template:function(e,r){if(e&1){let c=v();n(0,"div",1),x(1,Pe,2,0,"div",2),x(2,ye,2,1,"div",3),x(3,be,2,1,"div",4),n(4,"header",5)(5,"h1"),l(6,"Productos"),o(),n(7,"div",6)(8,"button",7),p(9,"img",8),n(10,"label"),l(11," Importar "),o()(),n(12,"button",9),m("click",function(){return u(c),_(r.router.navigate(["dashboard/create-product"]))}),p(13,"img",10),n(14,"label"),l(15," Agregar Producto "),o()()()(),n(16,"div",11),y(17,Me,4,1,"div",7,P),n(19,"div",12)(20,"button",13),m("click",function(){return u(c),_(r.filterMenu=!r.filterMenu)}),p(21,"img",14),n(22,"label"),l(23,"Filtros"),o()(),x(24,Oe,3,0,"div",15),o(),p(25,"div",16),n(26,"div",17)(27,"img",18),m("click",function(){return u(c),_(r.onSearch())}),o(),n(28,"input",19,0),m("keydown.enter",function(){return u(c),_(r.onSearch())}),o()()(),n(30,"div",20)(31,"header",21)(32,"h2"),l(33,"Mis productos"),o(),n(34,"div",22)(35,"p"),l(36),o()()(),n(37,"div",23),y(38,Ae,6,3,"div",24,P),o(),n(40,"div",25)(41,"button",26),m("click",function(){return u(c),_(r.onPageChange(r.currentPage-1))}),p(42,"img",27),n(43,"label"),l(44,"Anterior"),o()(),n(45,"div",28),y(46,$e,5,6,null,null,P),o(),n(48,"button",26),m("click",function(){return u(c),_(r.onPageChange(r.currentPage-1))}),n(49,"label"),l(50,"Siguiente"),o(),p(51,"img",29),o()()()()}e&2&&(a(),f(r.loading?1:-1),a(),f(r.details?2:-1),a(),f(r.warn?3:-1),a(14),b(r.CategoryFilter),a(7),f(r.filterMenu?24:-1),a(12),L("",r.count," productos"),a(2),b(Q(7,ve)),a(3),h("disabled",r.currentPage===1),a(5),b(r.pagesArray),a(2),h("disabled",r.currentPage===r.pages))},dependencies:[A,I,B,R,X,V],styles:[".products-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}.warn[_ngcontent-%COMP%]{position:fixed;z-index:100;width:100%;height:100vh;display:flex;align-items:center;justify-content:center}.details-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:50;width:100%;height:100vh;background:#00000080;display:flex;align-items:center;justify-content:center}.prod-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-inline:32px}.prod-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}h1[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);font-family:var(--montser-font);font-size:30px;font-style:normal;font-weight:600;line-height:38px;margin:0}.filters[_ngcontent-%COMP%]{display:flex;gap:12px;padding-inline:32px}.product-list-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px 24px;gap:8px}.product-list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:500;line-height:28px;margin:0}.product-list-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Brand-700, #007981);text-align:center;font-family:var(--montser-font);font-size:12px;font-style:normal;font-weight:500;line-height:18px;margin:0}.prod-container[_ngcontent-%COMP%]{margin-inline:32px;display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;border-radius:12px;border:1px solid var(--Gray-200, #E9EAEB);background:var(--White, #FFF);box-shadow:0 1px 3px #0a0d121a,0 1px 2px #0a0d120f}.count[_ngcontent-%COMP%]{display:flex;padding:2px 8px;justify-content:center;align-items:center;border-radius:16px;background:var(--Brand-50, #F0FEFF)}.head-bar[_ngcontent-%COMP%]{display:flex;align-items:flex-start;align-self:stretch}.head-bar-item[_ngcontent-%COMP%]{display:flex;flex:1;height:44px;padding:12px 24px;align-items:center;gap:12px;align-self:stretch;border-bottom:1px solid var(--Gray-200, #E9EAEB);background:var(--Gray-50, #FAFAFA);box-sizing:border-box}.head-bar-item.action[_ngcontent-%COMP%]{min-height:44px}.head-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-600, #535862);font-family:var(--montser-font);font-size:12px;font-style:normal;font-weight:500;line-height:18px;margin:0}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.column.nombre[_ngcontent-%COMP%]{min-width:312px}.column.action[_ngcontent-%COMP%]{flex:none;width:160px}.column.categor\\ed a[_ngcontent-%COMP%]{width:225px;flex:none}.product-item[_ngcontent-%COMP%]{display:flex;height:72px;padding:16px 24px;align-items:center;gap:12px;align-self:stretch;border-bottom:1px solid var(--Gray-200, #E9EAEB);box-sizing:border-box;cursor:pointer}.product-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.action-button[_ngcontent-%COMP%]{border:none;background:none;padding:10px;border-radius:8px;cursor:pointer}.status[_ngcontent-%COMP%]{display:flex;padding:2px 8px 2px 6px;justify-content:center;align-items:center;gap:6px;border-radius:16px;background:var(--Success-50, #ECFDF3)}.category[_ngcontent-%COMP%]{display:flex;padding:2px 8px;justify-content:center;align-items:center;border-radius:16px;background:var(--Gray-100, #F5F5F5)}.status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Success-700, #027A48);text-align:center;font-family:var(--montser-font);font-size:12px;font-style:normal;font-weight:500;line-height:18px}.pagination[_ngcontent-%COMP%]{display:flex;padding:12px 24px 16px;justify-content:space-between;align-items:center;align-self:stretch;border:0 solid var(--Gray-200, #E9EAEB)}.pages[_ngcontent-%COMP%]{display:flex}.page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:8px;box-sizing:border-box;padding:12px}.page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--Gray-500, #717680);text-align:center;font-family:var(--montser-font);font-size:14px;font-style:normal;font-weight:500;line-height:20px}.filters-dorp-menu[_ngcontent-%COMP%]{position:relative}.dropdown-content[_ngcontent-%COMP%]{display:flex;width:292px;position:absolute;background-color:var(--White, #FFF);min-width:160px;box-shadow:0 4px 8px #0000001a;border-radius:8px;z-index:1;top:48px;left:0;flex-direction:column;padding:8px 0}.dropdown-item[_ngcontent-%COMP%]{display:flex;padding:10px 14px;align-items:center;gap:8px;align-self:stretch;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);font-family:var(--montser-font);font-size:16px;font-style:normal;font-weight:500;line-height:24px;margin:0}.page.active[_ngcontent-%COMP%]{background:#f0feff}.page.active[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--Brand-900, #175659)}"]})};export{ee as Products};
