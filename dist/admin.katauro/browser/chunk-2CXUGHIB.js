import{a as te}from"./chunk-7EATK2D7.js";import{a as q}from"./chunk-I5YVCZWU.js";import{C as z,Da as D,Ea as N,G as f,Ga as $,H as _,Ha as L,I as M,Ia as R,J as T,K as y,L as b,M as x,N as r,O as a,P as m,Q as u,R as g,S as V,T as O,U as X,V as v,W as Q,X as c,ba as l,ca as p,da as w,ea as j,ga as B,ha as S,ia as G,ja as Z,ka as ee,n as h,o as C,ra as A,u as F,ua as I,v as o,wa as k,x as P,y as E}from"./chunk-54XO3K6U.js";var le=(t,n,e)=>({second:t,third:n,fourth:e}),se=t=>({visible:t}),ce=(t,n,e,i)=>({second:t,third:n,fourth:e,visible:i}),de=(t,n)=>({second:t,third:n,fourth:3});function pe(t,n){t&1&&m(0,"div",1)}function me(t,n){t&1&&(r(0,"button",9)(1,"label"),l(2,"Adquirir"),a()())}function ge(t,n){if(t&1&&(r(0,"div",3)(1,"div",6)(2,"h2",7),l(3),a(),r(4,"p",8),l(5),a(),f(6,me,3,0,"button",9),a()()),t&2){let e=c(),i=e.$implicit,s=e.$index,d=c();x("ngClass",ee(5,ce,d.carouselType==1,d.carouselType==2,d.carouselType===3,d.currentSlide===s)),o(),x("ngClass",G(10,de,d.carouselType==1,d.carouselType==2)),o(2),p(i.name?i.name:d.base.title),o(2),p(i.description?i.description:d.base.description),o(),_(d.carouselType!=2?6:-1)}}function fe(t,n){if(t&1&&(f(0,ge,7,13,"div",3),r(1,"div",4),m(2,"img",5),a()),t&2){let e=n.$implicit,i=n.$index,s=c();_(s.carouselType!=3?0:-1),o(),x("ngClass",S(3,se,s.currentSlide===i)),o(),x("src",e.image?e.image:"carousel-base.png",F)}}var W=class t{data;carouselType;currentSlide=0;images=["/assets/back_image.webp","/assets/Carousel_image2.png","/assets/Carousel_image.png"];autoSlideInterval;base={title:"T\xEDtulo atractivo en 2 l\xEDneas de texto",description:"Descripci\xF3n corta del evento o producto que se este promocionando."};ngOnDestroy(){clearInterval(this.autoSlideInterval)}ngOnInit(){this.data&&(this.images=this.data.banners.map(n=>n.image)),this.carouselType=this.data?.carousel}startAutoplay(){this.autoSlideInterval=setInterval(()=>this.nextSlide(),4e3)}goToSlide(n){this.currentSlide=n,clearInterval(this.autoSlideInterval),setTimeout(()=>this.startAutoplay(),1e4)}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.images.length}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=E({type:t,selectors:[["app-corousel"]],inputs:{data:"data",currentSlide:"currentSlide"},decls:5,vars:6,consts:[[1,"carousel-container",3,"ngClass"],[1,"gradient"],[1,"slides"],[1,"info-container",3,"ngClass"],[1,"slide",3,"ngClass"],[3,"src"],[1,"info-contet",3,"ngClass"],[1,"car-text"],[1,"card-info"],[1,"button-chips"]],template:function(e,i){e&1&&(r(0,"div",0),f(1,pe,1,0,"div",1),r(2,"div",2),y(3,fe,3,5,null,null,M),a()()),e&2&&(x("ngClass",Z(2,le,i.carouselType==1,i.carouselType==2,i.carouselType===3)),o(),_(i.carouselType!=3?1:-1),o(2),b(i.data==null?null:i.data.banners))},dependencies:[k,I],styles:['.carousel-container[_ngcontent-%COMP%]{position:relative;height:256px}.carousel-container.second[_ngcontent-%COMP%]{height:256px;overflow:hidden}.carousel-container.third[_ngcontent-%COMP%]{height:648px}.carousel-container.fourth[_ngcontent-%COMP%]{height:100%;border-radius:8px;overflow:hidden}.carousel-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.slides[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.slide[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:opacity 1s ease-in-out;overflow:hidden}.slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.info-container.visible[_ngcontent-%COMP%], .slide.visible[_ngcontent-%COMP%]{opacity:1}.navegacion[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:10;gap:12px;bottom:16px;left:calc(50% - 24px)}.gradient[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:2;background:linear-gradient(270deg,#00000021,#00000067 93.92%)}.info-container[_ngcontent-%COMP%]{position:absolute;z-index:3;width:100%;height:100%;padding:51px 53px;box-sizing:border-box;opacity:0;transition:opacity 1s ease}.info-container.third[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.info-contet[_ngcontent-%COMP%]{top:51px;left:53px;display:flex;width:100%;flex-direction:column;align-items:flex-start;gap:32px;box-sizing:border-box}.info-contet.second[_ngcontent-%COMP%]{align-items:flex-end;margin-left:auto}.info-contet.third[_ngcontent-%COMP%]{width:942px;align-items:center}.info-contet.third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.info-contet.second[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .info-contet.second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}.info-contet[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:var(--montser-font),"montserrat",sans-serif;font-size:26px;font-style:normal;font-weight:600;line-height:31px;letter-spacing:-1.2px;margin:0}.info-contet[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:var(--montser-font),"montserrat",sans-serif;font-size:9px;font-style:normal;font-weight:500;line-height:13px;margin:0}.navegacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background-color:#717680;cursor:pointer;transition:background-color .5s ease-in-out}.navegacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#bdc0c6!important}']})};function _e(t,n){if(t&1&&(r(0,"p"),l(1),a()),t&2){let e=n.$implicit;o(),p(e.name)}}function ue(t,n){if(t&1&&y(0,_e,2,1,"p",null,T),t&2){let e=c().$implicit,i=c();b(i.filterActivePromotions(e.product.promotions))}}function xe(t,n){if(t&1&&(r(0,"div",3)(1,"header",4)(2,"h3"),l(3),a(),r(4,"button",5),m(5,"img",6),r(6,"span"),l(7,"Editar"),a()()(),r(8,"div",7)(9,"div",8)(10,"div",9)(11,"h4"),l(12,"Promoci\xF3n activa"),a(),f(13,ue,2,0),a(),r(14,"div",9)(15,"h4"),l(16,"Nombre"),a(),r(17,"p"),l(18),a()(),r(19,"div",9)(20,"h4"),l(21,"Descripci\xF3n breve"),a(),r(22,"p"),l(23),a()()(),r(24,"div",10),m(25,"img",11),a()()()),t&2){let e=n.$implicit,i=n.$index;o(3),w("Banner ",i+1),o(),x("routerLink",`/dashboard/edit-banner/${e.id}`),o(9),_(e.product?13:-1),o(5),p(e.name?e.name:"T\xEDtulo atractivo en 2 l\xEDneas de texto"),o(5),p(e.description?e.description:"Descripci\xF3n corta del evento o producto que se este promocionando."),o(2),x("src",e.image?e.image:"carousel-base.png",F)}}var H=class t{constructor(n){this.router=n}data={name:"Principal",banners:[]};close=new z;ngOnInit(){console.log(this.data.banners)}onClose(){this.close.emit()}filterActivePromotions(n){let e=new Date;return n.filter(s=>new Date(s.promotion.endDate)>e&&new Date(s.promotion.startDate)<e).map(s=>s.promotion)}static \u0275fac=function(e){return new(e||t)(P(D))};static \u0275cmp=E({type:t,selectors:[["app-edit-carousel"]],inputs:{data:"data"},outputs:{close:"close"},decls:7,vars:1,consts:[[1,"main"],[1,"main-head"],["src","x.svg","alt","",2,"cursor","pointer",3,"click"],[1,"banner-container"],[1,"banner-head"],[1,"button-chips",3,"routerLink"],["src","edit-3.svg","alt",""],[1,"banner-content"],[1,"info"],[1,"data"],[1,"preview"],["alt","",3,"src"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"header",1)(2,"h2"),l(3),a(),r(4,"img",2),v("click",function(){return i.onClose()}),a()(),y(5,xe,26,6,"div",3,T),a()),e&2&&(o(3),p(i.data.name),o(2),b(i.data.banners))},dependencies:[N],styles:[".main[_ngcontent-%COMP%]{display:flex;padding:24px 24px 64px 48px;flex-direction:column;align-items:flex-start;flex:1 0 0;gap:40px;align-self:stretch;border-radius:var(--Corner-Small, 8px);background:var(--Gray-50, #FAFAFA);border-radius:8px;border:1px solid var(--Gray-200, #E9EAEB);box-shadow:0 12px 16px -4px #0a0d1214,0 4px 6px -2px #0a0d1208}.main-head[_ngcontent-%COMP%]{display:flex}.main-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:28px;font-style:normal;font-weight:600;line-height:28px}.banner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%;gap:12px;flex:1 0 0}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.banner-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:24px;font-style:normal;font-weight:600;line-height:28px}.banner-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;align-self:stretch}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:40px;flex:1 0 0}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:4px}.data[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:600;line-height:28px}.data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:400;line-height:28px}.preview[_ngcontent-%COMP%]{display:flex;width:596.975px;height:232.157px;flex-direction:column;align-items:flex-start;gap:4.146px;overflow:hidden}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;object-position:center}"]})};var Ce=(t,n)=>({banners:t,carousel:n}),ye=t=>({active:t});function be(t,n){t&1&&(r(0,"div",1),m(1,"app-box-loader"),a())}function Pe(t,n){if(t&1){let e=O();r(0,"div",2)(1,"app-edit-carousel",4),v("close",function(){h(e);let s=c();return C(s.edit=void 0)}),a()()}if(t&2){let e=c();o(),x("data",e.edit)}}function Ee(t,n){if(t&1){let e=O();r(0,"div",11),v("click",function(){let s=h(e).$index,d=c().$implicit,ae=c();return C(ae.selected[d.name]=s)}),r(1,"span"),l(2),a()()}if(t&2){let e=n.$index,i=c().$implicit,s=c();x("ngClass",S(2,ye,s.selected[i.name]==e)),o(2),p(e+1)}}function Me(t,n){if(t&1){let e=O();r(0,"div",3)(1,"header",5)(2,"h2"),l(3),a(),r(4,"button",6),v("click",function(){let s=h(e).$implicit,d=c();return C(d.edit={banners:s.banners,name:d.names[s.name]})}),m(5,"img",7),r(6,"span"),l(7,"Editar"),a()()(),m(8,"app-corousel",8),r(9,"div",9),y(10,Ee,3,4,"div",10,M),a()()}if(t&2){let e=n.$implicit,i=n.$index,s=c();o(3),p(s.names[e.name]),o(5),x("currentSlide",s.selected[e.name])("data",G(3,Ce,e.banners,i)),o(2),b(e.banners)}}var J=class t{constructor(n,e,i){this.http=n;this.errorServ=e;this.cdr=i}carousels=[];loading=!1;selected={primary:0,secundary:0};names={primary:"Carrusel principal",secundary:"Carrusel secundario"};edit=void 0;ngOnInit(){this.loadData()}loadData(){this.loading=!0,this.http.getCarousels().subscribe({next:n=>{this.carousels=n,this.loading=!1,this.cdr.detectChanges()},error:n=>{this.errorServ.addError($(n)),this.loading=!1,this.cdr.detectChanges()}})}static \u0275fac=function(e){return new(e||t)(P(L),P(R),P(A))};static \u0275cmp=E({type:t,selectors:[["app-carousels"]],decls:5,vars:2,consts:[[1,"main"],[1,"loader-wrapper"],[1,"wrapper"],[1,"carousel"],[3,"close","data"],[1,"car-header"],[1,"button-chips",3,"click"],["src","edit-3.svg","alt",""],[2,"width","100%",3,"currentSlide","data"],[1,"footer"],[1,"select",3,"ngClass"],[1,"select",3,"click","ngClass"]],template:function(e,i){e&1&&(r(0,"div",0),f(1,be,2,0,"div",1),f(2,Pe,2,1,"div",2),y(3,Me,12,6,"div",3,M),a()),e&2&&(o(),_(i.loading?1:-1),o(),_(i.edit?2:-1),o(),b(i.carousels))},dependencies:[q,W,k,I,H],styles:[".main[_ngcontent-%COMP%]{display:flex;padding-inline:32px;gap:24px;width:100%;box-sizing:border-box}.wrapper[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;z-index:10;box-sizing:border-box;padding-inline:10px}.carousel[_ngcontent-%COMP%]{display:flex;width:635px;flex-direction:column;align-items:flex-start;border-radius:12px;border:1px solid var(--Gray-200, #E9EAEB);background:var(--White, #FFF);box-shadow:0 1px 3px #0a0d121a,0 1px 2px #0a0d120f}.car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;width:100%;box-sizing:border-box}.car-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:500;line-height:28px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2px;padding:12px 24px;box-sizing:border-box;width:100%}.select[_ngcontent-%COMP%]{display:flex;height:40px;aspect-ratio:1;justify-content:center;align-items:center}.select[_ngcontent-%COMP%]:hover{cursor:pointer}.select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--Gray-500, #717680);text-align:center;font-family:var(--montser-font);font-size:14px;font-style:normal;font-weight:500;line-height:20px}.select.active[_ngcontent-%COMP%]{border-radius:8px;background:var(--Brand-50, #F0FEFF)}.select.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#178c94}"]})};function Oe(t,n){if(t&1&&(u(0,"div",13)(1,"span"),l(2),g()()),t&2){let e=n.$implicit;o(2),p(e.category.nombre)}}function we(t,n){if(t&1&&(u(0,"div",15)(1,"div",16),V(2,"img",17),g(),u(3,"span"),l(4),g()()),t&2){let e=n.$implicit;o(2),X("src",e.product.image,F),o(2),w(" ",e.product.genericProd==null?null:e.product.genericProd.name," ")}}var K=class t{constructor(n){this.router=n}promotion;close=new z;convertToDate(n){n=new Date(n);let e=n.getFullYear().toString(),i=(n.getMonth()+1+100).toString().slice(1),s=(n.getDate()+100).toString().slice(1);return e+"-"+i+"-"+s}onClose(){this.close.emit()}navigateToEdit(){this.router.navigate(["/dashboard/create-promotion"],{queryParams:{edit:this.promotion.promo_id}})}static \u0275fac=function(e){return new(e||t)(P(D))};static \u0275cmp=E({type:t,selectors:[["app-promotion-info"]],inputs:{promotion:"promotion"},outputs:{close:"close"},decls:56,vars:9,consts:[[1,"main"],[1,"main-head"],[1,"cross",3,"click"],["src","x.svg","alt",""],[1,"name"],[1,"button-chips",3,"click"],["src","edit-3.svg"],[1,"desc-section"],[1,"info-object","name"],[1,"info-object"],[1,"desc-section-2"],[1,"promo-content"],[1,"categories"],[1,"item","cat"],[1,"products"],[1,"item","product"],[1,"image"],["alt","",3,"src"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"header",1)(2,"div",2),Q("click",function(){return i.onClose()}),V(3,"img",3),g(),u(4,"div",4)(5,"h2"),l(6),g(),u(7,"p"),l(8),g()(),u(9,"button",5),Q("click",function(){return i.navigateToEdit()}),V(10,"img",6),u(11,"span"),l(12,"Editar"),g()()(),u(13,"div",7)(14,"div",8)(15,"h4"),l(16,"Nombre"),g(),u(17,"p"),l(18),g()(),u(19,"div",9)(20,"h4"),l(21,"Descripci\xF3n breve"),g(),u(22,"p"),l(23),g()()(),u(24,"div",10)(25,"div",9)(26,"h4"),l(27,"Tipo de promoci\xF3n"),g(),u(28,"p"),l(29),g()(),u(30,"div",9)(31,"h4"),l(32,"Valor del descuento"),g(),u(33,"p"),l(34),g()(),u(35,"div",9)(36,"h4"),l(37,"Fecha de inicio"),g(),u(38,"p"),l(39),g()(),u(40,"div",9)(41,"h4"),l(42,"Fecha de finalizaci\xF3n"),g(),u(43,"p"),l(44),g()()(),u(45,"div",11)(46,"div",12)(47,"h4"),l(48,"Categor\xEDas"),g(),y(49,Oe,3,1,"div",13,T),g(),u(51,"div",14)(52,"h4"),l(53,"Productos"),g(),y(54,we,5,2,"div",15,T),g()()()),e&2&&(o(6),p(i.promotion.name),o(2),j("",i.convertToDate(i.promotion.startDate)," - ",i.convertToDate(i.promotion.endDate)),o(10),p(i.promotion.name),o(5),p(i.promotion.description),o(6),p(i.promotion.Type?"General":"Por categor\xEDa y producto"),o(5),w("",i.promotion.discount," %"),o(5),p(i.convertToDate(i.promotion.startDate)),o(5),p(i.convertToDate(i.promotion.endDate)),o(5),b(i.promotion.categories),o(5),b(i.promotion.products))},styles:[".main[_ngcontent-%COMP%]{display:flex;padding:24px 24px 64px 48px;flex-direction:column;align-items:flex-start;flex:1 0 0;align-self:stretch;gap:40px;border-radius:var(--Corner-Small, 8px);background:var(--Gray-50, #FAFAFA);border:1px solid lightgray;box-shadow:0 12px 16px -4px #0a0d1214,0 4px 6px -2px #0a0d1208}.main-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;align-self:stretch;position:relative;padding-top:48px}.cross[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:48px;aspect-ratio:1;display:flex;justify-content:center;align-items:center}.cross[_ngcontent-%COMP%]:hover{cursor:pointer}.main-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:28px;font-style:normal;font-weight:600;line-height:28px}.main-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-600, #535862);font-family:var(--montser-font);font-size:16px;font-style:normal;font-weight:400;line-height:24px}.desc-section[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:40px;align-self:stretch}.desc-section-2[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;align-self:stretch}.info-object[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1 0 0}.info-object.name[_ngcontent-%COMP%]{flex:0;min-width:400px}.info-object[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:600;line-height:28px}.info-object[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:400;line-height:28px}.promo-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:40px;align-self:stretch}.categories[_ngcontent-%COMP%], .products[_ngcontent-%COMP%]{display:flex;width:359px;flex-direction:column;align-items:flex-start}.categories[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .products[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--Gray-700, #414651);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:600;line-height:28px}.item[_ngcontent-%COMP%]{display:flex;padding:16px 24px;align-items:center;gap:12px;align-self:stretch;border-bottom:1px solid var(--Gray-200, #E9EAEB)}.image[_ngcontent-%COMP%]{display:flex;width:40px;height:40px;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;border-radius:4px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}.item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);font-family:var(--montser-font);font-size:14px;font-style:normal;font-weight:500;line-height:20px}.item.cat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;padding:2px 8px;justify-content:center;align-items:center;border-radius:16px;background:var(--Gray-100, #F5F5F5)}"]})};var Se=()=>[],oe=t=>({active:t}),Fe=()=>["M\xE1s recientes","Antiguos","Realizado","Pendiente","Cancelado"],Te=()=>["Nombre","Vigencia","Tipo","Descuento","Estado",""];function Ie(t,n){t&1&&(r(0,"div",2),m(1,"app-box-loader"),a())}function ke(t,n){if(t&1){let e=O();r(0,"div",3)(1,"app-message-box",25),v("acept",function(s){h(e);let d=c();return C(d.onDecide(s.valueOf()))}),a()()}if(t&2){let e=c();o(),x("data",e.warn)}}function De(t,n){if(t&1){let e=O();r(0,"div",4)(1,"app-promotion-info",26),v("close",function(){h(e);let s=c();return C(s.info=void 0)}),a()()}if(t&2){let e=c();o(),x("promotion",e.info)}}function $e(t,n){if(t&1&&(r(0,"div",11)(1,"label"),l(2),a(),m(3,"img",27),a()),t&2){let e=n.$implicit;o(2),w(" ",e," ")}}function ze(t,n){if(t&1&&(r(0,"div",28)(1,"p"),l(2),a()()),t&2){let e=n.$implicit;o(2),p(e)}}function Ve(t,n){t&1&&(r(0,"div",15),y(1,ze,3,1,"div",28,M),a()),t&2&&(o(),b(B(0,Fe)))}function je(t,n){t&1&&m(0,"div",22)}function Be(t,n){t&1&&m(0,"div",22)}function Ge(t,n){if(t&1&&(r(0,"p"),l(1),a()),t&2){let e=c().$implicit;o(),p(e.name)}}function Ae(t,n){if(t&1&&(r(0,"p"),l(1),a()),t&2){let e=c().$implicit,i=c(3);o(),j(" ",i.getDate(e.startDate)," - ",i.getDate(e.endDate)," ")}}function Ne(t,n){if(t&1&&(r(0,"p"),l(1),a()),t&2){let e=c().$implicit;o(),p(e.Type)}}function Le(t,n){if(t&1&&(r(0,"p"),l(1),a()),t&2){let e=c().$implicit;o(),p(e.discount)}}function Re(t,n){t&1&&m(0,"p")}function qe(t,n){if(t&1){let e=O();r(0,"div",35),v("click",function(s){return h(e),C(s.stopImmediatePropagation())}),r(1,"button",36),v("click",function(){h(e);let s=c().$implicit,d=c(3);return C(d.ask(s.promo_id))}),m(2,"img",37),a(),r(3,"button",36),v("click",function(){h(e);let s=c().$implicit,d=c(3);return C(d.navigateEdit(s.promo_id))}),m(4,"img",38),a()()}}function We(t,n){if(t&1){let e=O();r(0,"div",33),v("click",function(){let s=h(e).$implicit,d=c(3);return C(d.info=s)}),f(1,Ge,2,1,"p"),f(2,Ae,2,2,"p"),f(3,Ne,2,1,"p"),f(4,Le,2,1,"p"),f(5,Re,1,0,"p"),f(6,qe,5,0,"div",34),a()}if(t&2){let e=c().$implicit;x("className",`product-item ${e===""?"action":e.toLowerCase()}`),o(),_(e==="Nombre"?1:-1),o(),_(e==="Vigencia"?2:-1),o(),_(e==="Tipo"?3:-1),o(),_(e==="Descuento"?4:-1),o(),_(e==="Estado"?5:-1),o(),_(e===""?6:-1)}}function Ue(t,n){if(t&1&&(r(0,"div",32)(1,"div",32)(2,"p"),l(3),a()(),y(4,We,7,7,"div",32,M),a()),t&2){let e=n.$implicit,i=c(2);x("className",`column ${e===""?"action":e.toLowerCase()}`),o(),x("className",`head-bar-item ${e===""?"action":e.toLowerCase()}`),o(2),p(e),o(),b(i.promotions)}}function Ye(t,n){t&1&&(r(0,"div",24)(1,"header",29)(2,"h2"),l(3,"Promociones"),a(),r(4,"div",30),m(5,"p"),a()(),r(6,"div",31),y(7,Ue,6,3,"div",32,M),a()()),t&2&&(o(7),b(B(0,Te)))}function He(t,n){t&1&&m(0,"app-carousels")}var re=class t{constructor(n,e,i,s){this.http=n;this.cdr=e;this.router=i;this.errorServ=s}filterMenu=!1;proSection=!0;promotions=[];info;loading=!1;ngOnInit(){this.loading=!0,this.http.getPromotions().subscribe({next:n=>{this.promotions=n,this.loading=!1,this.cdr.detectChanges()},error:n=>{this.errorServ.addError($(n)),this.loading=!1,this.cdr.detectChanges()}})}warn;getDate(n){let e=new Date(n);return`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()} `}onSearch(){}navigateEdit(n){this.router.navigate(["/dashboard/create-promotion"],{queryParams:{edit:n}})}deletePromo(n){this.loading=!0,this.http.deletePromo(n).subscribe({next:e=>this.ngOnInit(),error:e=>{this.errorServ.addError($(e))}})}ask(n){this.toDelete=n,this.warn={msg:"Eliminar promoci\xF3n",warn:"\xBFEst\xE1s seguro que deseas realizar esta acci\xF3n? Esta acci\xF3n no tiene vuelta atr\xE1s."}}toDelete;onDecide(n){this.warn=void 0,n&&this.toDelete&&this.deletePromo(this.toDelete),this.toDelete=void 0}static \u0275fac=function(e){return new(e||t)(P(L),P(A),P(D),P(R))};static \u0275cmp=E({type:t,selectors:[["app-promotions"]],decls:36,vars:15,consts:[["search",""],[1,"main"],[1,"loader-wrapper"],[1,"warn"],[1,"wrapper"],[1,"header"],[1,"title"],[1,"button-base",3,"routerLink"],["src","plus.svg","alt",""],[1,"prom-container"],[1,"filters"],[1,"button-chips"],[1,"filters-dorp-menu"],[1,"button-chips",3,"click"],["src","Filters lines.svg","alt",""],[1,"dropdown-content"],[1,"spacing",2,"flex","1"],[1,"input-base"],["src","search.svg","alt","",3,"click"],["type","text","placeholder","Buscar",3,"keyup.enter"],[1,"nav-bar"],[3,"click","ngClass"],[1,"selector"],[1,"divider"],[1,"table"],[3,"acept","data"],[3,"close","promotion"],["src","x.svg","alt",""],[1,"dropdown-item"],[1,"prom-list-header"],[1,"count"],[1,"head-bar"],[3,"className"],[3,"click","className"],[1,"actions"],[1,"actions",3,"click"],[1,"action-button",3,"click"],["src","trash-2.svg","alt",""],["src","edit-2.svg","alt",""]],template:function(e,i){if(e&1){let s=O();r(0,"div",1),f(1,Ie,2,0,"div",2),f(2,ke,2,1,"div",3),f(3,De,2,1,"div",4),r(4,"header",5)(5,"h1",6),l(6,"Promociones"),a(),r(7,"button",7),m(8,"img",8),r(9,"span"),l(10," Nueva promoci\xF3n "),a()()(),r(11,"div",9)(12,"div",10),y(13,$e,4,1,"div",11,M),r(15,"div",12)(16,"button",13),v("click",function(){return h(s),C(i.filterMenu=!i.filterMenu)}),m(17,"img",14),r(18,"label"),l(19,"Filtros"),a()(),f(20,Ve,3,1,"div",15),a(),m(21,"div",16),r(22,"div",17)(23,"img",18),v("click",function(){return h(s),C(i.onSearch())}),a(),r(24,"input",19,0),v("keyup.enter",function(){return h(s),C(i.onSearch())}),a()()(),r(26,"div",20)(27,"span",21),v("click",function(){return h(s),C(i.proSection=!0)}),l(28,"Promociones "),f(29,je,1,0,"div",22),a(),r(30,"span",21),v("click",function(){return h(s),C(i.proSection=!1)}),l(31,"Banners y carruseles "),f(32,Be,1,0,"div",22),a(),m(33,"div",23),a(),f(34,Ye,9,1,"div",24)(35,He,1,0,"app-carousels"),a()()}e&2&&(o(),_(i.loading?1:-1),o(),_(i.warn?2:-1),o(),_(i.info?3:-1),o(4),x("routerLink","/dashboard/create-promotion"),o(6),b(B(10,Se)),o(7),_(i.filterMenu?20:-1),o(7),x("ngClass",S(11,oe,i.proSection)),o(2),_(i.proSection?29:-1),o(),x("ngClass",S(13,oe,!i.proSection)),o(2),_(i.proSection?-1:32),o(2),_(i.proSection?34:35))},dependencies:[k,I,q,N,J,te,K],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px;position:relative}.filters[_ngcontent-%COMP%]{display:flex;gap:12px;padding-inline:32px}.filters-dorp-menu[_ngcontent-%COMP%]{position:relative}.dropdown-content[_ngcontent-%COMP%]{display:flex;width:292px;position:absolute;background-color:var(--White, #FFF);min-width:160px;box-shadow:0 4px 8px #0000001a;border-radius:8px;z-index:1;top:48px;left:0;flex-direction:column;padding:8px 0}.dropdown-item[_ngcontent-%COMP%]{display:flex;padding:10px 14px;align-items:center;gap:8px;align-self:stretch;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);font-family:var(--montser-font);font-size:16px;font-style:normal;font-weight:500;line-height:24px;margin:0}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-inline:32px}h1[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);font-family:var(--montser-font);font-size:30px;font-style:normal;font-weight:600;line-height:38px;margin:0}.prom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.nav-bar[_ngcontent-%COMP%]{position:relative;display:flex;margin-inline:32px;gap:16px;padding-bottom:16px}.nav-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--Gray-500, #717680);cursor:pointer;position:relative;font-family:var(--montser-font);font-size:14px;font-style:normal;font-weight:600;line-height:20px}.selector[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:-16px;height:2px;align-self:stretch;background:var(--Brand-700, #007981)}.nav-bar[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:var(--Brand-700, #007981)}.divider[_ngcontent-%COMP%]{position:absolute;width:100%;background:var(--Gray-200, #E9EAEB);height:1px;bottom:0}.prom-list-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px 24px;gap:8px}.prom-list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--Gray-900, #181D27);font-family:var(--montser-font);font-size:18px;font-style:normal;font-weight:500;line-height:28px;margin:0}.prom-list-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Brand-700, #007981);text-align:center;font-family:var(--montser-font);font-size:12px;font-style:normal;font-weight:500;line-height:18px;margin:0}.table[_ngcontent-%COMP%]{margin-inline:32px;display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;border-radius:12px;border:1px solid var(--Gray-200, #E9EAEB);background:var(--White, #FFF);box-shadow:0 1px 3px #0a0d121a,0 1px 2px #0a0d120f}.count[_ngcontent-%COMP%]{display:flex;padding:2px 8px;justify-content:center;align-items:center;border-radius:16px;background:var(--Brand-50, #F0FEFF)}.head-bar[_ngcontent-%COMP%]{display:flex;align-items:flex-start;align-self:stretch}.head-bar-item[_ngcontent-%COMP%]{display:flex;flex:1;height:44px;padding:12px 24px;align-items:center;gap:12px;align-self:stretch;border-bottom:1px solid var(--Gray-200, #E9EAEB);background:var(--Gray-50, #FAFAFA);box-sizing:border-box}.head-bar-item.action[_ngcontent-%COMP%]{min-height:44px}.head-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Gray-600, #535862);font-family:var(--montser-font);font-size:12px;font-style:normal;font-weight:500;line-height:18px;margin:0}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.column.nombre[_ngcontent-%COMP%]{min-width:312px}.column.action[_ngcontent-%COMP%]{flex:none;width:160px}.column.categor\\ed a[_ngcontent-%COMP%]{width:225px;flex:none}.product-item[_ngcontent-%COMP%]{display:flex;height:72px;padding:16px 24px;align-items:center;gap:12px;align-self:stretch;border-bottom:1px solid var(--Gray-200, #E9EAEB);box-sizing:border-box;cursor:pointer}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.action-button[_ngcontent-%COMP%]{border:none;background:none;padding:10px;border-radius:8px;cursor:pointer}.status[_ngcontent-%COMP%]{display:flex;padding:2px 8px 2px 6px;justify-content:center;align-items:center;gap:6px;border-radius:16px;background:var(--Success-50, #ECFDF3)}.category[_ngcontent-%COMP%]{display:flex;padding:2px 8px;justify-content:center;align-items:center;border-radius:16px;background:var(--Gray-100, #F5F5F5)}.status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--Success-700, #027A48);text-align:center;font-family:var(--montser-font);font-size:12px;font-style:normal;font-weight:500;line-height:18px}"]})};export{re as Promotions};
