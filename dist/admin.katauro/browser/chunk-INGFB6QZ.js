import{Ga as i,Ha as g,Ia as n,i as s,l as o,q as a}from"./chunk-54XO3K6U.js";var c=class t{constructor(r,e){this.httpServ=r;this.errorServ=e;localStorage.getItem("admin")==="true"?this.isLogged.set(!0):this.isLogged.set(!1)}isLogged=a(!1);isLoggedIn(){return this.httpServ.meAdmin().subscribe({next:r=>{this.isLogged.set(!0),localStorage.setItem("admin","true")},error:r=>(this.errorServ.addError(i(r)),r.error&&r.status===401&&localStorage.setItem("admin","false"),this.isLogged.set(!1),!1)})}login(r){return this.httpServ.logAdmin(r).subscribe({next:e=>{this.isLogged.set(!0),localStorage.setItem("admin","true")},error:e=>{this.errorServ.addError(i(e))}})}static \u0275fac=function(e){return new(e||t)(o(g),o(n))};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})};export{c as a};
